<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link rel="stylesheet" href="./taobao.css"> -->
    <!-- <link rel="stylesheet" href="./screen.css"> -->
    <link href="./screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
    <script src="../vue.js"></script>
</head>
<style>
    .td-inner img {
        float: left;
    }
    .active{
        background-color: #ff5500;
    }
</style>

<body>
    <div id="app">
        <div class='main'>
            <div class="site-nav">
                <div class="nav">
                    <ul class="nav-left">
                        <li><a href="#" class='nav-account'>Keith Chou</a></li>
                        <li><a href="#" class='nav-msg'>消息</a></li>
                        <li><a href="#" class='nav-hangon'>手机逛淘宝</a></li>
                    </ul>
                    <ul class="nav-right">
                        <li><a href="#" class='nav-index'>淘宝网首页</a></li>
                        <li class='nav_myTao'>
                            <a href="#" class='nav-myTao'>我的淘宝</a>
                            <ul class='nav-myTao-nav'>
                                <a href="#">已买到的宝贝</a>
                                <a href="#">我的足迹</a>
                                <a href="#">爱逛街</a>
                                <a href="#">淘宝达人</a>
                                <a href="#">新欢</a>
                            </ul>
                        </li>
                        <li class='nav_collection'>
                            <a href="#" class='nav-collection'>收藏夹</a>
                            <ul class="nav-myTao-nav">
                                <a href="#">收藏的宝贝</a>
                                <a href="#">收藏的店铺</a>
                            </ul>
                        </li>
                        <li class='nav_sellCenter'>
                            <a href="#" class='nav-sellCenter'>卖家中心</a>
                            <ul class="nav-myTao-nav">
                                <a href="#">免费开店</a>
                                <a href="#">已卖出的宝贝</a>
                                <a href="#">出售中的宝贝</a>
                                <a href="#">卖家服务市场</a>
                                <a href="#">卖家培训中心</a>
                            </ul>
                        </li>
                        <li class='nav_contact'>
                            <a href="#" class='nav-contact'>联系客服</a>
                            <ul class="nav-myTao-nav"><a href="#">消费者客服</a><a href="#">卖家客服</a></ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="container">
                <div class="header">
                    <a href="#"></a>
                    <div class="header-search">
                        <input type="text" placeholder="请输入内容" class='header-search-input' autocomplete="off">
                        <!--
					--><button type='submit'>搜 索</button>
                        <div class="list">
                        </div>
                    </div>
                </div>
                <div class="content">
                    <div class="tbBar">
                        <ul class='switch-cart'>
                            <li class='btn-switch-cart switch-cart-0 selectColumn'>
                                <a href="#" class='btn-switch-href '>
                                    <em>全部商品</em>
                                    <span class='number'>0</span>
                                    <span class='pipe'></span>
                                </a>
                            </li>
                            <li class='btn-switch-cart switch-cart-1'>
                                <a href="#" class="btn-switch-href btn-switch-color">
                                    <em>降价商品</em>
                                    <span class="number">0</span>
                                    <span class="pipe"></span>
                                </a>
                            </li>
                            <li class='btn-switch-cart switch-cart-2'>
                                <a href="#" class="btn-switch-href btn-switch-color">
                                    <em>库存紧张</em>
                                    <span class="number">0</span>
                                    <span class="pipe pipe-display"></span>
                                </a>
                            </li>
                        </ul>
                        <div class="cart-sum">
                            <span>已选商品（不含运费）</span>
                            <strong class='price'>￥
                                <!--
							--><span class='total-symbol'>0.00</span>
                            </strong>
                            <a href="#" class="submit-btn btn-common">结算</a>
                        </div>
                        <div class="wrap-line">
                        </div>
                    </div>
                    <div>
                        <div class="commodityColumn">
                            <div class="th-chk">
                                <div id="selectAll" class="selectAll ">
                                    <input type="checkbox" @click="checkAll"  name="selectAllChckbox" id='selectAllChckbox' class='allSelected1' autocomplete="off" onchange="checkAll(event)">
                                    <label for="selectAllChckbox">全选</label>
                                </div>
                            </div>
                            <div class="th-inner">
                                <div class="commodityMsg">
                                    <div>商品信息</div>
                                </div>
                            </div>
                            <div class="th-space">
                                <div class="td-inner">&nbsp;</div>
                            </div>
                            <div class="th-price">
                                <div class="td-inner">单价</div>
                            </div>
                            <div class="th-amount">
                                <div class="td-inner">数量</div>
                            </div>
                            <div class="th-sum">
                                <div class="td-inner">金额</div>
                            </div>
                            <div class="th-operation">
                                <div class="td-inner">操作</div>
                            </div>
                        </div>
                    </div>
                    </div>
                    <div class="tbMain">
                        <div class="mainCommodity" v-for="(item,index) in arr">
                            <div class="commodityInfo">
                                <ul>
                                    <li class='td-chk'>
                                        <div class="td-inner">
                                            <!-- 小的勾选框 -->
                                            <input type="checkbox" name='checkbox' autocomplete="off" 
                                               @change="ckOne" v-model="item.checked" >
                                        </div>
                                    </li>
                                    <li class='td-item'>
                                        <div class="td-inner">
                                            <!-- <a href="#" class='boyShoes'> -->
                                            <img :src="item.image" alt="">
                                            </a>
                                            <div class="item-info">
                                                <div class="item-basis-info">
                                                    <a href="javascript:;">{{item.Txt}}</a>
                                                </div>
                                                <div class="item-other-info">
                                                    <div class="item-other-space"></div>
                                                    <div class="item-other-list">
                                                        <a href="#" title='支持信用卡支付'>
                                                            <div class="bandCard"></div>
                                                        </a>
                                                        <a href="#" class='sevenDay' title='7天无理由'>
                                                            <div class="sevenDay"></div>
                                                        </a>
                                                        <a href="#" title='消费者保障服务'>
                                                            <div class="guarantee"></div>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class='td-info'>
                                        <div class="td-info-msg">
                                            <p>{{item.color}}</p>
                                            <p>{{item.size}}</p>
                                        </div>
                                    </li>
                                    <li class='td-price'>
                                        <div class="td-inner">
                                            <!-- 单价 -->

                                            <p class='discount'>
                                                ￥<span>{{item.nonDiscount}}</span></p>
                                            <div class="promotion">
                                                卖家促销
                                                <i class='promotionIcon'></i>
                                            </div>
                                            <div class="proSlidedown">
                                                <p class='newPro'>卖家促销：新品大特价</p>
                                                <p>优惠：￥30.00</p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class='td-amount'>
                                        <div class="item-amount">
                                            <!-- 减 -->
                                            <a href="javascript:;" class='amount-left amount-color' 
                                                disabled @click="odd(item)">-</a>
                                            <!--数量 -->
                                            <input type="text" v-model="item.num">
                                            <!-- 加 -->
                                            <a href="javascript:;" class="amount-right" @click="add(item)">+</a>

                                        </div>
                                        <div class="stock">
                                            574
                                        </div>
                                        <div class="outNum">
                                            <span class="instr">最多只能购买</span>
                                            <span class='stockNum'></span>
                                            <!--
                                        --><em>件</em>
                                        </div>

                                    </li>
                                    <!--单价*数量= 金额 -->
                                    <li class='td-sum'>
                                        <em>￥</em>
                                        <span>{{item.num* item.nonDiscount}}</span>
                                           
                                    </li>
                                    <li class='td-operation'>
                                        <!-- 删除 -->
                                        <p><a href="javascript:;" class='delete' @click="deleteOne(index)">删除</a></p>
                                    </li>
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="footer">
                    <div class="all-selected">
                        <input type="checkbox" name='all-selected' id='all-selected' class='allSelected2'
                            autocomplete="off" @change="checkAll" v-model="ckAll">
                            <!-- 全选 -->
                        <label for="all-selected">全选</label>
                    </div>
                    <div class="operation">
                        <a href="javascript:;" @click="deleteSelect(index)">删除</a>
                        <a href="#">移入收藏夹</a>
                        <a href="#">分享</a>
                    </div>
                    <div class="float-bar-right">
                        <div class="amount-sum">
                            <span>已选商品</span>
                            <em class='totalSum'>{{getNum}}</em>
                            <span>件</span>
                        </div>
                        <div class="price-sum">
                            <span>合计（不含运费）：</span>
                            <span class='moneySym'>￥</span>
                            <em class='total-sum'>{{getSum}}</em>
                        </div>
                        <div class="btn-area">
                            <a href="#"  id='btn-sum' :class="{active:getNum>0,'btn-sum':getNum==0}">结 算</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <body>
        <script>
            new Vue({
                el: '#app',
                data: {
                    ckAll:false,
                    arr: [

                        {
                            "Txt": "韩版中长款纯色休闲青年风衣英伦秋冬男毛呢料宽松外套时尚大衣",
                            "num": 207,
                            "shop": "nixu服饰旗舰店",
                            "image": "./images/icons/fashionClo.png",
                            "color": "颜色：卡其色有纽扣",
                            "size": "尺码：L",
                            "checked": false,
                            "nonDiscount": 416.00,
                            "bandCard": "css/images/bankCard.png",
                            "sevenDay": "css/images/sevenDay.png",
                            "guarantee": "css/images/guarantee.png"
                        }

                        ,

                        {
                            "Txt": "李宁2016新款男子篮球鞋音速3高帮反弹篮球场地鞋ABAL031",
                            "num": 339,
                            "shop": "李宁官方网店",
                            "image": "./images/icons/lining-bas.png",
                            "color": "颜色分类：荧光果粉/木梅红",
                            "size": "鞋码：42",
                            "checked": false,
                            "nonDiscount": 539.00,
                            "bandCard": "./images/bankCard.png",
                            "sevenDay": "./images/sevenDay.png",
                            "guarantee": "./images/guarantee.png"
                        }

                        ,


                        {
                            "Txt": "夏日拖鞋潮男韩版潮流男士一字拖防滑凉鞋夏天个性沙滩潮拖凉拖男",
                            "num": 49,
                            "shop": "生如海洋 men sho",
                            "image": "./images/icons/boyShoes.png",
                            "color": "颜色分类：028黑蜂窝",
                            "size": "尺码：41",
                            "checked": false,
                            "nonDiscount": 79.00,
                            "bandCard": "css/images/bankCard.png",
                            "sevenDay": "css/images/sevenDay.png",
                            "guarantee": "css/images/guarantee.png"
                        }

                        ,


                        {
                            "Txt": "Z．Suo/走索男鞋马丁靴男秋冬户外靴子沙漠靴男军靴皮靴情侣款潮",
                            "num": 239,
                            "shop": "zsuo走索旗舰店",
                            "image": "./images/icons/xuezi.png",
                            "color": "颜色分类：ZS988H黑色",
                            "size": "尺码：42",
                            "checked": false,
                            "nonDiscount": 452.00,
                            "bandCard": "css/images/bankCard.png",
                            "sevenDay": "css/images/sevenDay.png",
                            "guarantee": "css/images/guarantee.png"
                        }

                        ,


                        {
                            "Txt": "台湾进口零食张君雅小妹妹12包零食组合甜甜圈捏脆面点心面礼包",
                            "num": 39,
                            "shop": "张君雅小妹妹旗舰",
                            "image": "./images/icons/boyShoes.png",
                            "color": "口味：12包零食组合",
                            "size": "重量：150g/包",
                            "checked": false,
                            "nonDiscount": 79.00,
                            "bandCard": "css/images/bankCard.png",
                            "sevenDay": "css/images/sevenDay.png",
                            "guarantee": "css/images/guarantee.png"
                        }

                    ]
                },
                methods:{
                    //1.删除
                    deleteOne(index){
                        this.arr.splice(index,1)
                    },

                    //2.加
                    add(item){
                        console.log(this);
                        item.num ++
                    },
                    //减
                    odd(item){
                        if(item.num!=0){
                            item.num --
                        }
                    },


                    //3.全选
                    // checkAll(){
                    //     var t=this
                    //     this.arr.forEach(function(){
                    //         item.checked=t.ckAll
                    //     }
                    //     );
                    // },
                    checkAll(){
                        for(var i=0;i<this.arr.length;i++){
                            this.arr[i].checked=this.ckAll
                        }
                    },



                    //4.反选
                    ckOne(){
                      var bl=true
                      for(var i=0;i<this.arr.length;i++){
                        if(this.arr[i].checked==false)
                           bl=false
                      }
                      this.ckAll=bl
                    },


                    //5.选择删除
                    deleteSelect(index){
                        for(var i=0;i<this.arr.length;i++){
                            if(this.arr[i].checked==true){
                                this.arr.splice(i,1)
                                i--
                            }
                        }
                    },


                   
                    
                },
                 //计算 总价
                computed:{
                        getSum(){
                            var sum=0
                            for(var i=0;i<this.arr.length;i++){
                                if(this.arr[i].checked==true){
                                    sum+=this.arr[i].num*this.arr[i].nonDiscount
                                }
                            }
                            return sum
                        },
                        //计算件数
                        getNum(){
                            var num=0
                            for(var i=0;i<this.arr.length;i++){
                                if(this.arr[i].checked==true){
                                    num+=this.arr[i].num
                                }
                            }
                            return num
                        }
                    }
            })

        </script>
    </body>

</html>